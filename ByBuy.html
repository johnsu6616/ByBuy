<!--註解用法-->
<html>
	<head>
		<meta charset="UTF-8" />
		<title>ByBuy</title>

		<style type="text/css">
		body {font-family:'微軟正黑體', Verdana, Arial, Helvetica, sans-serif;}
		</style>
		
		<script	src="/ByBuy/jquery-3.5.1.min.js">
		</script>

		<script>
            $(document).ready(function () {
                // $.getJSON(url, callback);
                $.getJSON('/ByBuy/itemPrice.json', function (json) {
                    tableGenerator('#tableName', json);
                });
            });

            function tableGenerator(selector, data) { // data is an array
                var keys = Object.keys(Object.assign({}, ...data));// Get the keys to make the header
                // Add header
                var head = '<thead><tr>';
                keys.forEach(function (key) {
                    head += '<th>' + key + '</th>';
                });
                $(selector).append(head + '</tr></thead>');
                // Add body
                var body = '<tbody>';
                data.forEach(function (obj) { // For each row
                    var row = '<tr>';
                    keys.forEach(function (key) { // For each column
                        row += '<td>';
                        if (obj.hasOwnProperty(key)) { // If the obj doesnt has a certain key, add a blank space.
                            row += obj[key];
                        }
                        row += '</td>';
                    });
                    body += row + '<tr>';
                })
                $(selector).append(body + '</tbody>');
            }
		</script>

    </head>
    <body>
<!-- 
        <h1>販賣機</h1>
-->
		<p>
			總額度：
			<input type="text" name="budget" size="1" value="250">
		</p>

		<p>
			可選方案數:
			<input type="text" name="overage" size="1" value="1509" readonly>
		</p>
		<table id="Table" class="table" size="1" style ="border: 1px solid black">
			<tbody>
				<tr>
					<th>
						第一次購買
					</th>
				</tr>
				<tr>
					<td>
		<select>
		<optgroup label="第一次購買">
		<option>AA</option>
		<option>BB</option>
		<option>CCr</option>
		<option>DD</option>
		<option>EE</option>
		<option>FF</option>
		</optgroup>
		</select>
					</td>
				</tr>
				<tr>
					<td>
						<input type="text" name="overage" size="1" value="250" readonly>
					</td>
				</tr>	
			</tbody>
		</table>
		<input type="button" onclick="addRow('myTable')" value="確定">
	    
		<p>
			餘額:
			<input type="text" name="overage" size="1" value="250" readonly>
		</p>
	    
		<p>
			預設值：
			<input type="button" onclick="json2table('myTable')" value="還原">
		</p>


		<table id="myTable" class="table" style ="border: 1px solid black">
			<tbody>
				<tr class="unit-table">
					<th>
						品項：
					</th>
					<th>
						價錢：
					</th>
				</tr>
				<tr class="unit-table">
					<td>
						<input type="text" >
					</td>
					<td>
						<input type="text" >
					</td>
				</tr>
			</tbody>
		</table>

        <table id="tableName"></table>
	</body>

</html>
